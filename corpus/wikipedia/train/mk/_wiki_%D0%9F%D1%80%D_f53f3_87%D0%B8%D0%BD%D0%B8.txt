Контрола на проток на црвоточина, исто така наречена префрлање на црвоточина или рутирање на црвоточина, е систем на едноставна контрола на проток во компјутерско вмрежување засновано на познати фиксни врски. Тоа е подгрупа на методи за контрола на проток наречена Контрола на проток Флит-пуфер. 1  :Chapter 13.2.1
Префрлањето е посоодветен термин од рутирањето, бидејќи „рутирање“ ја дефинира маршрутата или патеката по која се стигнува до целта. 2  3  Техниката на црвоточина не ја диктира маршрутата до одредиштето, но одлучува кога пакетот се движи напред од насочувачот.
Префрлањето на црвоточини се користи многу кај мултикомпјутерите поради ниската латентност и малите побарувања на јазлите. 3 :376
Рутирањето на црвоточини поддржува многу мала латентност, голема брзина, загарантирана испорака на пакети соодветни за комуникација во реално време. 4 
Во контролата на проток на црвоточина, секое пакување се распаѓа на мали парчиња наречени единици за контрола на проток .
Вообичаено, првите флитови, наречени заглавија, содржат информации за рутата на овој пакет  и го поставуваат однесувањето на рутирање за сите последователни флитови поврзани со пакетот. Заглавјата се проследени со нула или повеќе флитови кои го содржат вистинскиот товар на податоци. Некои последни флитови, наречени опашки, извршуваат задачи кои ја затвораат врската помеѓу двата јазли.
При префрлање на црвоточини, секој тампон е во мирување или е распределен на еден пакет. Заглавие флитот може да се пренасочи до тампон ако овој тампон е во мирување. Ова го распределува тампонот на пакетот. Тело или приколка - флит може да се пренасочи во тампон ако овој тампон е распределен на неговиот пакет и не е полн. Последниот флит го ослободува тампонот. Ако преклопот на заглавието е блокиран во мрежата, тампонот се полни и откако ќе се наполни, не може да се испраќаат повеќе флитови: овој ефект се нарекува „повратен притисок“ и може да се движи назад до изворот.
Името „црвоточини“ го претставуваначинот на испраќање пакети преку врските: адресата е толку кратка што може да се преведе пред да пристигне самата порака. Ова му овозможува на насочувачот брзо да го постави рутирањето на вистинската порака. Бидејќи пакетот се пренесува флит по флит, тој може да зафати неколку пултови на флит по својот пат, создавајќи слика слична на црв.
Ова е прилично слично на преклопното движење, 5  вообичаено наречено „виртуелно пробивање“, најголемата разлика е во тоа што контролата на проток со пресек ги распределува тампоните и пропусниот опсег на каналот на ниво на пакет, додека контролата на протокот на црвоточина го прави ова на нивото на флит.
Во случај на кружна зависност, овој повратен притисок може да доведе до ќор-сокак.
Во повеќето аспекти, црвоточината е многу слична на проследувањето на банкомат или MPLS, со исклучок дека ќелијата не мора да се чека на ред.
Она што е специфично во врска со контролата на проток на црвоточини е имплементација на виртуелни канали:Виртуелниот канал ја задржува состојбата потребна за координирање на ракувањето со флитовите преку пакет. Во најмала рака, оваа состојба го идентификува излезниот канал на тековниот јазол за следниот скок на трасата и состојбата на виртуелниот канал . Виртуелниот канал може исто така да вклучува и покажувачи на прстените на пакетот што се тампонирани на тековниот јазол и бројот на расположливи тампони на следниот јазол. 1  :237Замислете ја мрежата 2x2 на сликата десно, со 3 пакети што треба да се испратат: розова, направена од 4 флитови, 'UVWX', од C до D; сина, изработена од 4 флитови 'abcd', од А до Ф; и зелена, направена од 4 флитови „ijkl“, од E до H. Претпоставуваме дека рутирањето е пресметано, како што е нацртано, и подразбира судир на тампон, во долниот лев рутер. Пропусната моќност е од една флит на време единица.
Прво, размислете за розовиот проток: во времето 1, флитот 'U' се испраќа до првиот тампон; во времето 2, флитот 'U' поминува низ следниот тампон , а флитот 'V' се испраќа до првиот тампон итн.
Сините и зелените текови треба да се презентираат чекор по чекор:
Техниките на црвоточини се користат првенствено во мултиобработувачски системи, особено хиперкуби. Во компјутерски хиперкуб, секој обработувач е прикачен на неколку соседи во фиксна шема, со што се намалува бројот на скокови од еден на друг обработувач. На секој обработувач е даден број , што е негова мрежна адреса, а пакетите до обработувачите се испраќаат со овој број во заглавието. Кога пакетот ќе пристигне на среден рутер за пренасочување, насочувачот го испитува заглавието , поставува коло до следниот рутер и потоа се повлекува од разговорот. Ова значително ја намалува латентноста  во споредба со преклопувањето од зачувај и препрати што го чека целиот пакет пред да го препратите. Во поново време, контролата на проток на црвоточни го најде патот до апликациите во мрежните чипови системи . Овде, многу јадра на обработувачот, или на пониско ниво, дури и функционални единици можат да се поврзат во мрежа на еден пакет IC . Бидејќи одложувањата на жиците и многу други не-размерливи ограничувања на поврзаните елементи за обработка стануваат доминантен фактор за дизајнот, инженерите бараат да се поедностават организираните мрежи за интерконекција, во кои методите за контрола на проток играат важна улога.
Технологиите IEEE 1355 и SpaceWire користат црвоточина.
Екстензија на контрола на црвоточина е виртуелен канал за контрола на проток, каде што неколку виртуелни канали може да се мултиплексираат преку еден физички канал. Секој еднонасочен виртуелен канал се реализира од независно управуван пар  тампони. Различни пакети тогаш можат да го споделуваат физичкиот канал врз основа на флит по флит. Првично беа воведени виртуелни канали за да се избегне проблемот со ќор-сокак, но тие можат да се користат и за да се намали блокирањето на црвоточините, подобрување на латентноста и пропусната моќ на мрежата. Блокирање на црвоточина се случува кога пакет се здобива со канал, со што се спречуваат другите пакети да го користат каналот и принудувајќи ги да заглават. Да претпоставиме дека пакет P0 го стекнал каналот помеѓу два насочувачи. Во отсуство на виртуелни канали, пакетот P1 што пристигнува подоцна ќе биде блокиран сè додека не заврши трансмисијата на P0. Доколку се имплементираат виртуелни канали, можни се следниве подобрувања:
Користењето виртуелни канали за намалување на блокирањето на црвоточините има многу сличности со користењето на редици за виртуелни излези за да се намали блокирањето на врвните линии
Може да се користи мешавина од изворно рутирање и логично рутирање во истиот пакет со вклучена црвоточина. Вредноста на првиот бајт од пакетот Myrinet или SpaceWire е адресата на пакетот. Секој прекинувач SpaceWire ја користи адресата за да одлучи како да го рутира пакетот. 7 
Со рутирање на изворот, испраќачот на пакет избира како да се рутира пакетот преку прекинувачот.
Ако првиот бајт од влезниот пакет SpaceWire е во опсег од 1 до 31, тоа ја означува соодветната порта од 1 до 31 на прекинувачот Spacewire. Прекинувачот SpaceWire потоа го отфрла тој карактер за рутирање и го испраќа остатокот од пакетот од таа порта. Ова го изложува следниот бајт од оригиналниот пакет на следниот прекинувач SpaceWire. Испраќачот на пакет може да избере да користи рутирање на изворот за експлицитно да ја одреди целосната патека низ мрежата до крајното одредиште на овој начин. 7 
Со логично рутирање, прекинувачот Spacewire сам одлучува како да го рутира пакетот.
Ако адресата  на дојдовниот пакет SpaceWire е во опсег од 32 до 255, прекинувачот SpaceWire ја користи таа вредност како индекс во табела за внатрешно рутирање што покажува која порта  да го испрати пакетот и дали да се избрише или задржете го првиот бајт. 7 
Адресата 0 се користи за директно комуницирање со прекинувачот и може да се користи за поставување на записите на табелата за рутирање за тој прекинувач. 7 
