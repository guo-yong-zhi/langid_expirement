
strncpy — функция стандартной библиотеки языка программирования Си, для копирования содержимого нуль-терминированной строки в буфер ограниченного размера.
Функция strncpy аналогична strcpy с защитой от переполнения буфера, однако не является полностью безопасной.
Функция поддерживается всеми компиляторами Си.
Прототип, описанный в заголовочном файле string.h:
char *strncpy ;
Функция копирует из строки src в буфер dst не более чем len символов , не гарантируя завершения строки нулевым символом . Если длина строки src меньше len, то буфер добивается до len нуль- символами.
Функция возвращает значение dst.
      #include     <string.h> 
   #include     <stdio.h>                         /* для printf */ 
  
   int     main   
   ;                      // буфер размером меньше строки 
  
        printf  ; 
        printf  ; 
  
        strncpy       -     1  );       // len на 1 меньше размера буфера 
  
        printf  ; 
  
        return     0  ; 
   } 
 строка: "образец строки"
буфер перед копированием: ""
буфер после копирования:  "образец с"
 char buf;
strncpy - 1);
buf = '\0';
</prРазработчики OpenBSD на замену strncpy сделали нестандарную функцию strlcpy, гарантирующую завершение строки нулевым символом. В системах, в которых она также реализована, рекомендуется использовать её, а не strncpy. В иных системах, возможна кустарная реализация этой функции, из исходного кода, распространяемого по лицензии BSD.
Кроме того, strlcpy, также, решает проблему производительности strncpy .
Стандартное поведение strncpy неоптимально — функция всякий раз заполняет нулями весь остаток буфера 1  2 , что приводит к непроизводительному расходу процессорного ресурса при буфере большого размера и работе с короткими строками .
Использование вместо strncpy нестандартной функции strlcpy или кустарной функции , может обеспечить существенный прирост производительности .
