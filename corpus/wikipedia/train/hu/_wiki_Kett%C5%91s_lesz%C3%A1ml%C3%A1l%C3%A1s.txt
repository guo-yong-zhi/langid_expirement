Pontosságellenőrzött
A matematika, azon belül a kombinatorika területén a kettős leszámlálás  olyan kombinatorikus bizonyítási technika, ami annak demonstrálásával mutatja meg két kifejezés egyenlőségét, hogy azok ugyanannak a halmaznak az elemeit számolják meg két különböző módon. A  szerint „a kombinatorika legfontosabb eszközei közé tartozó” technika alkalmazása során egy véges X halmazt két perspektívából írunk le, ami két különböző, a halmaz méretét meghatározó kifejezést eredményez. Mivel mindkét kifejezés a halmaz méretét írja le, egyenlőnek kell lenniük egymással.
A kettős leszámlálás módszerére példa annak megszámlálása, hogy n személyből hányféleképpen alakítható bizottság, ha tetszőleges  személy is tagja lehet 1-1 bizottságnak. Másként fogalmazva megszámoljuk egy n elemű halmaz lehetséges részhalmazainak a számát. Egy bizottság megalakításának egyik módja, hogy minden személyt megkérdezünk, szeretne-e tag lenni. Mindenkinek két választása van – igen vagy nem – és ezek a választások függetlenek a többi ember választásához. Ezért 2   2   ...   2 = 2n lehetőség van. Egy másik módszer szerint megfigyeljük, hogy az egyes bizottságok taglétszáma mindig 0 és n között van. Minden potenciális k létszámú bizottságot az n emberből éppen az
binomiális együttható szerint lehet kiválasztani.
Tehát a lehetséges bizottságok összesített száma a k = 0, 1, 2, ... n-re kijövő binomiális együtthatók összege. A két kifejezést egyenlővé téve egymással a következő azonosságot kapjuk:
ami a binomiális tétel speciális esete. Hasonló kettős leszámlálással bizonyítható a következő általánosabb azonosság is:
.
Gyakran a kettős leszámlálási technikával bizonyítják azt az állítást, ami szerint minden irányítatlan gráf páros számú páratlan fokú csúcsot tartalmazhat. Tehát az olyan csúcsok száma, amelyből páratlan számú él indul ki, csak páros lehet. Egy köznapi életből vett példával, ha egy partin néhány ember kezet fog egymással, a páratlan számú emberrel kezet rázók száma páros – a tétel ezért kézfogási lemma néven terjedt el.
A kettős leszámláláshoz legyen d a v csúcs fokszáma. A csúcs-él szomszédságok a gráfban kétféleképp is megszámolhatók: a csúcsok fokszámainak összeadásával vagy az élek két-két szomszédságainak összeadásával. Ezért
ahol e az élek száma. A csúcsok fokszám-összege ezért páros szám, ami nem lehetséges, ha páratlan számú csúcsnak lenne páratlan fokszáma. Ezt a tényt Leonhard Euler  igazolta a königsbergi hidak problémáját vizsgáló híres elemzésében, ami a gráfelmélet megalapozásául szolgált.
Hány különböző Tn fa alakítható ki n darab számozott csúcsból? A Cayley-formula megadja a választ: Tn = nn   2.  a formula négy bizonyítását ismerteti, a negyediket, mely Jim Pitman kettős leszámláláson alapuló bizonyítása, a legszebbnek tartják mind közül.
Pitman bizonyítása kétféleképpen számolja meg az üres gráfhoz adható irányított élek olyan sorozatát, ami n csúcsú fenyőt  hoz létre. Az egyik szerint elindulunk a Tn lehetséges gyökér nélküli fák egyikével, az n csúcs egyikét gyökérnek választjuk, majd kiválasztjuk az ! lehetséges sorozat egyikét, melyben hozzáadjuk az n   1  élet. Az így felmerülő sorozatok száma éppen Tnn! = Tnn!.
Az élsorozat megszámlálásának másik módja, hogy egy üres gráfhoz egyesével éleket adunk hozzá, és minden lépésben megvizsgáljuk, hány új él jöhet szóba. Ha egy ponton már hozzáadtunk n   k élet, akkor az élek egy k fából álló gyökeres erdőt alkotnak, és a következő él hozzáadására n lehetőségből lehet választani: a kezdő csúcs a gráf n csúcsának bármelyike lehet, a másik csúcs pedig a k   1 gyökér bármelyike lehet, amelyik nem a kiinduló csúcs fájának gyökere. Ha összeszorozzuk az első, második stb. lépésben lehetséges választásokat, a következő produktumot kapjuk:
A két képletet egyenlővé téve megkapjuk a Cayley-formulában szereplő élsorozat-számot:
and
Aigner és Ziegler leírják, hogy a képlet és a bizonyítás általánosítható tetszőleges k fából álló fenyvesekre .
